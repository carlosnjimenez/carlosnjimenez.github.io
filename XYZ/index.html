
<!DOCTYPE html>
<html>
    <title>three.js webgl - CSS3DRenderer</title>
    <meta charset="utf-8">
    <style>
        body 
		{
            background-color: #ffffff;
            margin: 0;
            overflow: hidden;
        }
    
        .large 
		{
            font-size: xx-large;
        }
    </style>
    <script src="three.min.js"></script>
    <script src="CSS3DRenderer.js"></script>
	<script src="DeviceOrientationControls.js"></script>
    <script>

(function() 
{
	"use strict";
	window.addEventListener('load', function() 
	{
		var string = '<object id="IZQ" type="text/html" data="https://openmaptiles.github.io/klokantech-3d-gl-style/#16.14/-34.52989/-58.70060/0/59"> </object>';
		var renderer;
		var scene;
		var camera;
		var controls;
		
		var animate = function()
		{
			window.requestAnimationFrame( animate );
			controls.update();
			renderer.render(scene, camera);
		};

		scene = new THREE.Scene();
		camera = new THREE.PerspectiveCamera(45,window.innerWidth / window.innerHeight,0.1,1);
		controls = new THREE.DeviceOrientationControls( camera );

		renderer = new THREE.CSS3DRenderer();
		renderer.setSize(window.innerWidth, window.innerHeight);
		camera.position.x = 0;
		camera.position.y = 0;
		camera.position.z = 1220;
		camera.lookAt(scene.position);
		document.body.appendChild(renderer.domElement);
		var cssElement = createCSS3DObject(string);
		cssElement.position.set(0, 0, 0);
		scene.add(cssElement);
					//controls.update();
		render();
		
		function createCSS3DObject(s) 
		{
			var wrapper = document.createElement('div');
			wrapper.innerHTML = s;
			var div = wrapper.firstChild;
			div.style.width = '100%';
			div.style.height = '100%';
			div.style.opacity = 1;
			div.style.background = new THREE.Color(Math.random() * 0xffffff).getStyle();
			var object = new THREE.CSS3DObject(div);
			return object;
		}

		function render() 
		{
				
			renderer.render(scene, camera);
		}
/*
				window.addEventListener("DOMContentLoaded", function(event) {
					init();
				});
			*/
			
		animate();
	}, false);
})();
    </script>

</head>
</html>