<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GL Style Package Preview</title>
  <link rel="stylesheet" type="text/css" href="https://api.mapbox.com/mapbox-gl-js/v0.28.0/mapbox-gl.css" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v0.28.0/mapbox-gl.js"></script>
  <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:50%; float: left;}
	#map2 {  position:absolute;top:0; bottom:0; width:100%;float: right; }
  </style>
  <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.1.0/mapbox-gl-compare.js'></script>

</head>
<body>
  <div id='map2'></div>
  <div id='map'></div>


  <script>

  function deviceOrientationListener(event) {
     /*var c=document.getElementById("myCanvas");
     var ctx=c.getContext("2d");
     ctx.clearRect(0,0, c.width, c.height);
     ctx.fillStyle="#FF7777";
     ctx.font="14px Verdana";
     ctx.fillText("Alpha:" + Math.round(event.alpha) ,10,20);
     ctx.beginPath();
     ctx.moveTo(180, 75);
     ctx.lineTo(210, 75);
     ctx.arc(180,75,60,0, event.alpha*Math.PI/180);
     ctx.fill();

     ctx.fillStyle="#FF6600";
     ctx.fillText("Beta:" + Math.round(event.beta),10,140);
     ctx.beginPath();
     ctx.fillRect(180, 150, event.beta, 90);

     ctx.fillStyle="#FF0000";
     ctx.fillText("Gamma:" + Math.round(event.gamma),10,270);
     ctx.beginPath();
     ctx.fillRect(90, 340, 180, event.gamma);*/
	  var map1 = new mapboxgl.Map({
        container: 'map',
        style: 'style-cdn.json',
        attributionControl: false,
		center: [-58.70060,-34.52989],
		zoom: 16,
		pitch: 90,
		bearing: event.gamma,
        hash: true
      });
	  var map2 = new mapboxgl.Map({
        container: 'map2',
        style: 'style-cdn.json',
        attributionControl: false,
		center: [-34.52989,-58.70060],
		    zoom: 15,
    pitch: 0,
    bearing: 0,
        hash: true
      });
	 var map = new mapboxgl.Compare(map1,map2, {});
	 
}
  
  
  /*

  window.addEventListener('deviceorientation', function(event) 
  {

	var a = event.alpha;
	var b = event.beta;
	g = event.gamma;
}, false);*/

     


//var mapA = new mapboxgl.Map(..);
//var mapB = new mapboxgl.Map(..);


if (window.DeviceOrientationEvent) {
   window.addEventListener("deviceorientation", deviceOrientationListener);
}
else {
    alert("Sorry, your browser doesn't support Device Orientation");
}

      //map.addControl(new mapboxgl.NavigationControl());
  </script>
  <p>
</body>
</html>